<div class="container">
  <div class="form-group">
    <label for="githubUsername">Nome de usuário do GitHub</label>
    <input
      type="text"
      class="form-control"
      id="githubUsername"
      [(ngModel)]="githubUsername"
      placeholder="Digite o nome de usuário do GitHub"
    />
  </div>

  <button (click)="fetchRepos()" class="btn btn-primary mt-3">
    Buscar Repositórios
  </button>

  <div *ngIf="loading" class="mt-3">
    <p>Carregando repositórios...</p>
  </div>

  <div *ngIf="error" class="alert alert-danger mt-3">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="repositories.length > 0" class="mt-4">
    <h3>Repositórios de {{ githubUsername }}</h3>
    <ul class="list-group">
      <li
        *ngFor="let repo of repositories"
        class="list-group-item"
        (click)="fetchRepoDetails(repo.name)"
        style="cursor: pointer"
      >
        {{ repo.name }}
      </li>
    </ul>
  </div>

  <div *ngIf="selectedRepoDetails" class="mt-4">
    <h4>Detalhes do Repositório: {{ selectedRepoDetails.name }}</h4>
    <p>{{ selectedRepoDetails.description }}</p>
    <p>
      <strong>Data de Criação:</strong>
      {{ selectedRepoDetails.created_at | date }}
    </p>
    <p>
      <strong>Linguagem Principal:</strong> {{ selectedRepoDetails.language }}
    </p>

    <h5>Arquivos no Repositório:</h5>
    <ul class="list-group">
      <li
        *ngFor="let file of selectedRepoDetails.files"
        class="list-group-item"
      >
        {{ file }}
      </li>
    </ul>
  </div>
</div>
